[colors]
background = #1E1E1E
background-focused = #3A3A3A
background-unfocused = #2A2A2A
background-inactive = #252525
background-alt = #2D2D2D
foreground = #D4D4D4
foreground-alt = #858585
warning = #D19A66
success = #98C379
urgent = #E06C75
accent = #61AFEF

[bar/top]
monitor = ${env:MONITOR}
font-0 = "JetBrainsMono Nerd Font:size=10;2"
width = 100%
height = 32
background = ${colors.background}
foreground = ${colors.foreground}
border-size = 1
border-color = ${colors.background-alt}
padding = 1
module-margin-left = 1
module-margin-right = 1
cursor-click = pointer
modules-center = date
modules-right = battery powermenu
modules-left = audio volume spotify_unified
wm-restack = i3
line-size = 1
line-color = ${colors.background-alt}
radius = 0

[bar/bottom]
bottom = true
monitor = ${env:MONITOR}
font-0 = "JetBrainsMono Nerd Font:size=10;2"
width = 100%
height = 26
background = ${colors.background} 
foreground = ${colors.foreground}
border-size = 1
border-color = ${colors.background-alt}
padding = 0
module-margin-left = 1
module-margin-right = 1
tray-padding = 1
tray-position = right
cursor-click = pointer
modules-left = xwindow wallpaper
modules-center = i3
modules-right = disk memory
wm-restack = i3
line-size = 1
line-color = ${colors.background-alt}
radius = 0

[module/i3]
type = internal/i3
format = <label-state> <label-mode>

index-sort = true
wrapping-scroll = false
pin-workspaces = true

; Active workspace on focused monitor
label-focused = %name%
label-focused-background = ${colors.background-focused}
label-focused-foreground = ${colors.foreground}
label-focused-overline = ${colors.foreground}
label-focused-padding = 1

; Active workspace on unfocused monitor
label-visible = %name%
label-visible-background = ${colors.background-unfocused}
label-visible-foreground = ${colors.foreground}
label-visible-padding = 1

; Inactive workspace on any monitor
label-unfocused = %name%
label-unfocused-background = ${colors.background-inactive}
label-unfocused-foreground = ${colors.foreground-alt}
label-unfocused-padding = 1

; Urgent workspace
label-urgent = %name%
label-urgent-background = ${colors.urgent}
label-urgent-foreground = ${colors.foreground}
label-urgent-padding = 1

[module/date]
type = internal/date
label = %date%
date = %d/%m/%y %H:%M
interval = 1

[module/xwindow]
type = internal/xwindow
pin-workspaces = true
format = <label>
format-padding = 1
label = %class%

[module/battery]
type = custom/script
exec = ~/.config/polybar/modules/battery.sh
interval = 5
format = <label>
format-padding = 1

[module/powermenu]
type = custom/menu
expand-right = true
format-spacing = 1

label-open =  
label-open-foreground = ${colors.urgent}
label-close = Cancel
label-close-foreground = ${colors.success}
label-separator = |
label-separator-foreground = ${colors.foreground-alt}

;Powermenu
menu-0-0 = "Restart "
menu-0-0-exec = menu-open-1 
menu-0-0-foreground = ${colors.urgent}

menu-0-1 = "Shutdown"
menu-0-1-exec = menu-open-2
menu-0-1-foreground = ${colors.urgent}

menu-0-2 = "Hibernate"
menu-0-2-exec = menu-open-3
menu-0-2-foreground = ${colors.warning}

;Restart
menu-1-0 = "Cancel "
menu-1-0-exec = menu-open-0
menu-1-0-foreground = ${colors.success}
menu-1-1 = "Restart"
menu-1-1-exec = systemctl reboot
menu-1-1-foreground = ${colors.urgent}

;Shutdown
menu-2-0 = "Shutdown"
menu-2-0-exec = systemctl poweroff
menu-2-0-foreground = ${colors.urgent}
menu-2-1 = "Cancel "
menu-2-1-exec = menu-open-0
menu-2-1-foreground = ${colors.success}

;Hibernate
menu-3-0 = "Hibernate "
menu-3-0-exec = systemctl hibernate
menu-3-0-foreground = ${colors.urgent}
menu-3-1 = "Cancel"
menu-3-1-exec = menu-open-0
menu-3-1-foreground = ${colors.success}

[module/audio]
type = custom/script
exec = python3 ~/.config/polybar/modules/audio-unified.py audio
interval = 1
click-left = python3 ~/.config/polybar/modules/audio-unified.py menu &
click-right = python3 ~/.config/polybar/modules/audio-unified.py mute &
scroll-up = python3 ~/.config/polybar/modules/audio-unified.py vol-up &
scroll-down = python3 ~/.config/polybar/modules/audio-unified.py vol-down &
click-middle = python3 ~/.config/polybar/modules/audio-unified.py menu &

[module/volume]
type = custom/script
exec = python3 ~/.config/polybar/modules/audio-unified.py volume
interval = 1
format = <label>
click-right = python3 ~/.config/polybar/modules/audio-unified.py vol-up &
click-left = python3 ~/.config/polybar/modules/audio-unified.py vol-down &
scroll-up = python3 ~/.config/polybar/modules/audio-unified.py vol-up &
scroll-down = python3 ~/.config/polybar/modules/audio-unified.py vol-down &

[module/spotify_unified]
type = custom/script
exec = python3 ~/.config/polybar/modules/spotify-unified.py
interval = 1
format = <label>
format-padding = 1

[module/disk]
type = custom/script
exec = ~/.config/polybar/modules/disk.sh
interval = 5
format = <label>
format-padding = 1
click-left = ~/.config/polybar/modules/disk.sh --next &
click-right = ~/.config/polybar/modules/disk.sh --prev &

[module/memory]
type = internal/memory
interval = 5
format-prefix = "%{F#61AFEF} "
label = %gb_used%/%gb_total%

[module/wallpaper]
type = custom/script
exec = python3 ~/.config/polybar/modules/wallpaper.py
interval = 1
format = <label>
format-prefix = "wallpaper: "
format-padding = 1
click-left = python3 ~/.config/polybar/modules/wallpaper.py next &
click-right = python3 ~/.config/polybar/modules/wallpaper.py select &
scroll-up = python3 ~/.config/polybar/modules/wallpaper.py scroll-up &
scroll-down = python3 ~/.config/polybar/modules/wallpaper.py scroll-down &
